---
format:
live-html:
toc: true

execute:
echo: false
warning: false
message: false

embed-resources: true

filters:
  custom-numbered-blocks

custom-numbered-blocks:
classes:
Assumption:
colors: [FFCDD2, F44336]
boxstyle: foldbox.simple
collapse: false
numbered: false
Example:
colors: [BBDEFB, 2196F3]
boxstyle: foldbox.simple
collapse: false
Exercise:
colors: [C8E6C9, 4CAF50]
boxstyle: foldbox.simple
collapse: false
Note:
colors: [FFF9C4, FFEB3B]
boxstyle: foldbox.simple
collapse: false
numbered: false
Key-point:
colors: [FFF9C4, FFEB3B]
boxstyle: foldbox.simple
collapse: false
numbered: false
webr:
render-df: gt-interactive

resources:
  Data

---
# Model Building and Selection

::: Key-point
Model building balances **flexibility** and **simplicity**. Too simple a model can miss important structure, while an overly complex model can chase noise in the data. The goal is to find a model that captures meaningful patterns without overfitting.
:::3

## Increasing model complexity to model complex relationships

### Why increase model complexity?

We began this course with the simple linear regression model: a single continuous predictor with a straight-line effect,
$$
E[Y] = \beta_0 + \beta_1 X.
$$
This is termed a 'first-order model' because 

 each is often a reasonable starting point, but real data may show structure a straight line cannot capture—such as curvature, changing slopes, or differences between groups.

Exploratory plots help reveal:

- Curvature in the relationship between predictors and the response.
- Situations where the effect of one predictor depends on another.
- Groupings or clusters that suggest categorical effects.

::: Note
Even when terms like $X^2$ or $X_1X_2$ appear, these are still **linear models** because the parameters enter additively. “Linearity” refers to the parameters, *not* the shape of the fitted curve.
:::

```{r}
# Simple straight-line model: fuel efficiency on weight
data(mtcars)
plot(mtcars$wt, mtcars$mpg,
     xlab = "Weight (1000 lbs)", ylab = "Miles per gallon")
lin_mod <- lm(mpg ~ wt, data = mtcars)
abline(lin_mod, col = "blue")
